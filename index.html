<!DOCTYPE html>
<html lang="en" data-theme="auto">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Muhammad Emmad Siddiqui | Homepage</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@400;600;700&family=Quicksand:wght@400;600;700&family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/js-yaml/4.1.0/js-yaml.min.js"></script>
  <link rel="icon" type="image/png" href="images/Avatar.png">
  <link rel="apple-touch-icon" href="images/Avatar.png">
  <link rel="shortcut icon" type="image/png" href="images/Avatar.png">
</head>

<body>
  <!-- Navigation Bar -->
  <nav class="navbar">
    <div class="nav-content">
      <div class="logo">Muhammad Emmad Siddiqui</div>
      <div class="nav-wrapper">
        <ul class="nav-links">
          <li><a href="#about"><i class="fas fa-user-circle"></i> About</a></li>
          <li><a href="#research"><i class="fas fa-microscope"></i> Research</a></li>
          <li><a href="#news"><i class="fas fa-newspaper"></i> News</a></li>
          <li><a href="#publications"><i class="fas fa-book"></i> Publications</a></li>
          <li><a href="#education"><i class="fas fa-graduation-cap"></i> Education</a></li>
          <li><a href="#contact"><i class="fas fa-envelope"></i> Contact</a></li>
          <li class="theme-btn-wrapper">
            <button class="theme-btn" title="Toggle Theme">
              <i class="fas fa-circle-half-stroke"></i>
            </button>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- Main Container -->
  <div class="main-container">
    <!-- Left Sidebar -->
    <div class="sidebar-left">
      <div class="profile-card">
        <div class="profile-image">
          <img src="images/Avatar.png" alt="Profile Photo">
        </div>
        <div class="profile-info">
          <h2 id="profile-name">Muhammad Emmad Siddiqui</h2>
          <p class="title" id="profile-title"></p>
          <p class="department" id="profile-dept"></p>
          <p class="university" id="profile-univ">FAST NUCES</p>
          <img class="purdue-logo" src="images/FAST-NU-logo.png" alt="FAST NUCES Logo" />
          <div class="social-links" id="social-links"></div>
        </div>
      </div>
    </div>

    <!-- Right Content -->
    <div class="content-right">
      <!-- About Section -->
      <section id="about" class="section">
        <div id="about-anchor" style="position: relative; top: -80px; height: 0;"></div>
        <div class="section-header">
          <i class="fas fa-user-circle"></i>
          <h2>About Me</h2>
        </div>
        <div class="section-content" id="about-content"></div>
      </section>

      <!-- Research Section -->
      <section id="research" class="section">
        <div id="research-anchor" style="position: relative; top: -80px; height: 0;"></div>
        <div class="section-header">
          <i class="fas fa-microscope"></i>
          <h2>Research Interests</h2>
        </div>
        <div class="section-content">
          <ul class="research-list" id="research-list"></ul>
          <div class="collab-invite" id="research-invite"></div>
        </div>
      </section>

      <!-- News Section -->
      <section id="news" class="section">
        <div id="news-anchor" style="position: relative; top: -80px; height: 0;"></div>
        <div class="section-header">
          <i class="fas fa-newspaper"></i>
          <h2>Latest News</h2>
        </div>
        <div class="section-content">
          <div class="news-container" id="news-container"></div>
        </div>
      </section>

      <!-- Publications -->
      <section id="publications" class="section">
        <div id="publications-anchor" style="position: relative; top: -80px; height: 0;"></div>
        <div class="section-header">
          <i class="fas fa-book"></i>
          <h2>Publications & Preprint</h2>
        </div>
        <div class="section-content" id="publications-container"></div>
      </section>

      <!-- Education -->
      <section id="education" class="section">
        <div id="education-anchor" style="position: relative; top: -80px; height: 0;"></div>
        <div class="section-header">
          <i class="fas fa-graduation-cap"></i>
          <h2>Education</h2>
        </div>
        <div class="section-content" id="education-container"></div>
      </section>

      <!-- Contact -->
      <section id="contact" class="section">
        <div id="contact-anchor" style="position: relative; top: -80px; height: 0;"></div>
        <div class="section-header">
          <i class="fas fa-envelope"></i>
          <h2>Contact</h2>
        </div>
        <div class="section-content" id="contact-container"></div>
      </section>
    </div>
  </div>

  <footer class="site-footer">
    <div class="footer-content">
      Designed & Built by Muhammad Emmad Siddiqui | Last updated: <span id="footer-update-date"></span>
    </div>
  </footer>

  <!-- Script to load content.md dynamically -->
  <script>
    async function loadContent() {
      const response = await fetch('content.md');
      const mdText = await response.text();
      const content = jsyaml.load(mdText);

      // About
      document.getElementById('about-content').innerHTML = content.about.content;

      // Research
      document.getElementById('research-list').innerHTML = content.research.items.map(item =>
        `<li><span class="interest-keyword">${item.keyword}:</span> ${item.description}</li>`
      ).join('');
      document.getElementById('research-invite').innerHTML = content.research.invite;

      // News
      document.getElementById('news-container').innerHTML = content.news.items.map(n =>
        `<div class="news-item"><span class="date">${n.date}</span><p>${n.content}</p></div>`
      ).join('');

      // Publications
      document.getElementById('publications-container').innerHTML = content.publications.items.map(p => `
        <div class="publication-item">
          <div class="pub-image-block">
            <img class="pub-image" src="${p.image}" alt="${p.title}">
          </div>
          <div class="pub-content">
            <h3>${p.title}</h3>
            <p class="authors">${p.authors}</p>
            <div class="pub-tldr"><span class="pub-tldr-label">TL;DR:</span> ${p.tldr}</div>
            ${p.journal ? `<p class="journal">${p.journal}${p.venue ? ', ' + p.venue : ''}</p>` : ''}
            <div class="pub-links">
              ${p.links.paper ? `<a href="${p.links.paper}" class="pub-link"><i class="fas fa-file-alt"></i> Paper</a>` : ''}
            </div>
          </div>
        </div>
      `).join('');

      // Education
      document.getElementById('education-container').innerHTML = content.education.items.map(e => `
        <div class="education-item">
          <div class="edu-year">${e.period}</div>
          <div class="edu-content">
            <h3>${e.degree}, ${e.school}</h3>
            ${e.advisor ? `<p class="thesis">Advisor: <a href="${e.advisor.url}" style="color: DarkSlateBlue;">${e.advisor.name}</a></p>` : ''}
          </div>
          <div class="edu-logo"><img src="${e.school_logo}" alt="${e.school} Logo"></div>
        </div>
      `).join('');

      // Contact
      document.getElementById('contact-container').innerHTML = content.contact.items.map(c =>
        `<div class="contact-item"><i class="${c.icon}"></i><p>${c.content}</p></div>`
      ).join('');

      // Footer date
      document.getElementById('footer-update-date').textContent = new Date().toLocaleDateString();
    }

    loadContent();
  </script>
  <script src="script.js"></script>
</body>
</html>
